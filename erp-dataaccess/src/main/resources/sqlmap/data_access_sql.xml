<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="data_access_sql">
	<sql id="purchase_control">
		<if test="maps.queryParam.passiveUserIdList != null">
			AND epo.create_user in
			<foreach item="item" index="index" collection="maps.queryParam.passiveUserIdList" open="(" separator="," close=")">
				#{item}
			</foreach>
		</if>
	</sql>

	<sql id="order_control">
		<if test="maps.orderQueryParam.passiveUserIdList != null &amp;&amp;maps.orderQueryParam.subCompanyId != null ">
			AND
			(
			(eo.create_user in
			<foreach item="item" index="index" collection="maps.orderQueryParam.passiveUserIdList" open="(" separator=","
					 close=")">
				#{item}
			</foreach>
			) or (esc.id =#{maps.orderQueryParam.subCompanyId})
			)
		</if>
	</sql>

	<sql id="customer_control">
		<if test="maps.queryParam.passiveUserIdList != null">
			AND ec.create_user in
			<foreach item="item" index="index" collection="maps.queryParam.passiveUserIdList" open="(" separator="," close=")">
				#{item}
			</foreach>
		</if>
	</sql>
</mapper>